---
title: Netlify Reactions
tags: ["React", "Gatsby", "GSAP"]
date: 2020-06-19
author: Paul Scanlon
isPrivate: true
embeddedImages:
  - netlify-reactions-1.jpg
---

Well hey there ðŸ‘‹ in this blog post I'm going to discuss how to add user reactions to your Gatsby blogs posts using a fun React UI component that I've recently open-sourced, It's called [react-svg-bubble-slider](https://react-svg-bubble-slider.netlify.app/) and looks like this ðŸ‘‡

<Divider />

<EmbeddedImage src={props.embedded.image1} />

<Divider />

## Demo

If you're a keen bean and would like to see a fully finished demo blog I've created an example of how [react-svg-bubble-slider](https://react-svg-bubble-slider.netlify.app/) could be used to add reactions to a Gatsby blog, using [FaunaDB](https://fauna.com/) for the back-end and Netlify functions and apollo/graphql to handle the data requests.

- Demo Blog [https://netlify-reactions.netlify.app/](https://netlify-reactions.netlify.app/)
- Repo [https://github.com/PaulieScanlon/netlify-reactions](https://github.com/PaulieScanlon/netlify-reactions)

## Why Reactions?

You're probably familiar with reactions from social media platforms such as Twitter, Instagram et al., but I rarely see reactions in blog posts. A common approach in blogs is to [implement comments](https://css-tricks.com/roll-your-own-comments-with-gatsby-and-faunadb/), but there are additional complications involved when allowing users to write whatever they want and post it to your back-end.

When you expose an input, you're giving the reader the opportunity to write _anything_ â€” it's only a matter of time before someone writes something rude. You probably don't want your blog posts peppered with expletives, so you need to add moderation so an admin needs to approve or delete comments **before** they appear on your blog.

In addition to extra technical overhead, setting up a moderation queue also means you have to periodically log in, review comments left by readers, and approve or delete them.

Adding reactions removes all of this as you're only allowing readers to submit one of a given set of pre-approved reactions... nothing rude here, just the usual emotions one might feel after reading a post.

When I started to think about reactions I was struggling to think of a fun and original way to present the options to the reader. I toyed around with the "heart", "thumbs up" / "thumbs down" approach for a while but wasn't really excited by it, until I saw [this tweet](https://twitter.com/ChrisGannon/status/1261209022662918144) by [Chris Gannon](https://twitter.com/ChrisGannon).

As soon as I saw Chris's SVG Bubble Slider, I knew it would make a perfect way to expose a pre-defined set of reactions to allow readers to leave their reactions on a blog post.

I explained the idea to Chris and he was on board. However this can _only_ be used on free projects. If you want to use it for a commercial project, youâ€™ll need to talk to Chris about a license.

This post will broadly explain the steps required to add [react-svg-bubble-slider](https://react-svg-bubble-slider.netlify.app/) to a Gatsby blog, but you could similarly add this to any React application.

## Get Started

To get started, install the package via `npm` (or `yarn`).

```sh
npm install react-svg-bubble-slider
```

You'll then need to locate your "posts" layout. In a Gatsby project this is typically saved in `src/layouts/post-layout`, but in short you'll need to import `SvgBubbleSlider` to the template or layout responsible for handling your posts.

Once you've decided which layout you'll be amending, import `SvgBubbleSlider` and add it to the componentâ€™s returned JSX.

```javascript
// post-layout.js
...
import { SvgBubbleSlider } from 'react-svg-bubble-slider'

const PostLayout = () => {
  return (
    <div>
      ...
      <SvgBubbleSlider />
    </div>
  )
}

export default PostLayout
```

By default `SvgBubbleSlider` displays 14 reactions. This is because I wanted to honor Chris Gannon's original [SVG Bubble Slider](https://codepen.io/chrisgannon/pen/GZNgLw/), but in reality you'll want to use a restricted set of reactions.

To modify the icons your implementation of `SvgBubbleSlider` displays you can use the `icons` prop and pass in only the icons you wish to use.

Here's an example:

```javascript
// post-layout.js
...
import { SvgBubbleSlider } from "react-svg-bubble-slider"

const ICONS_TO_USE = ["angry", "sad", "neutral", "smile", "happy", "cool"]

const PostLayout = () => {

  return (
    <div>
      ...
      <SvgBubbleSlider icons={ICONS_TO_USE} />
    </div>
  )
}

export default PostLayout
```

There are a couple caveats when using the `icons` prop:

1. You'll need at least three icons. This is to ensure there are icons to "slide" to and from.
2. The icon names must be from the 14 icons included in the package. Check the [docs](https://react-svg-bubble-slider.netlify.app/?path=/docs/icons--page) for available icon names.

Now that you've got the icons configured, you'll need to get the current reaction, show the reader the current reaction, and then provide a way for the reader to post the current reaction to your back-end of choice.

You can access the current [reaction](https://react-svg-bubble-slider.netlify.app/?path=/docs/svgbubbleslider--reaction) via a render prop which you can pass on to a button.

```diff
// post-layout.js
...
import { SvgBubbleSlider } from 'react-svg-bubble-slider'

const ICONS_TO_USE = ["angry", "sad", "neutral", "smile", "happy", "cool"]

const PostLayout = () => {

+  const [someReaction, setSomeReaction] = useState('')

+  handleReaction (reaction) => {
+    // some kind of api / database POST to pass the reaction and increment the count
+    setSomeReaction(reaction)
+  }

  return (
    <div>
      ...
-      <SvgBubbleSlider icons={ICONS_TO_USE} />
+      <SvgBubbleSlider icons={ICONS_TO_USE}>
+        {({ reaction }) => (
+          <Fragment>
+            {reaction && (
+              <button onClick={() => handleReaction(reaction)}>{reaction}</button>
+            )}
+          </Fragment>
+        )}
+      </SvgBubbleSlider>
    </div>
  )
}

export default PostLayout
```

Now that you have a method to pass the current reaction on to your back-end you will probably want to surface the count of each reaction.

To do this you can use the `SvgIcon` component.

```diff
// post-layout.js
...
- import { SvgBubbleSlider } from "react-svg-bubble-slider"
+ import { SvgBubbleSlider, SvgIcon } from "react-svg-bubble-slider"

const ICONS_TO_USE = ["angry", "sad", "neutral", "smile", "happy", "cool"]

const PostLayout = () => {

  const [someReaction, setSomeReaction] = useState('')
+ const [someData, setSomeData] = useState([])

  handleReaction (reaction) => {
    // some kind of api / database POST to pass the reaction and increment the count
    setSomeReaction(reaction)
  }

+  useEffect(() => {
+    // some kind of api / database GET request that returns the reaction counts
+    setSomeData(...)
+  }, [someReaction])

  return (
    <div>
      ...
      <SvgBubbleSlider icons={ICONS_TO_USE}>
        {({ reaction }) => (
          <Fragment>
            {reaction && (
              <button onClick={() => handleReaction(reaction)}>{reaction}</button>
            )}
          </Fragment>
        )}
      </SvgBubbleSlider>
+      <div>
+        {ICONS_TO_USE.map((name, index) => (
+          <div key={index}>
+            <SvgIcon name={name} />
+            {someData[index].count}
+          </div>
+        ))}
+      </div>
    </div>
  )
}

export default PostLayout
```

The `count` variable in this instance would come from your back-end and the React state examples above are in no way complete, it's just to give you an idea of how to manage the data.

Naturally there's a bit of work to do in POST-ing and GET-ing the data to and from your back-end but at least with [react-svg-bubble-slider](https://react-svg-bubble-slider.netlify.app/) you now have a fun UI component to allow the readers of your blog to post reactions.

If you're using **react-svg-bubble-slider** in your project I'd love to hear from you [@pauliescanlon](https://twitter.com/PaulieScanlon)
