---
type: post
title: My Cockroach Labs Interview App
tags: [Next.js, React, three.js, react-three-fiber, Tailwind, NextAuth, Prisma, CockroachDB]
date: 2023-02-09
author: Paul Scanlon
featuredImage: https://res.cloudinary.com/www-paulie-dev/image/upload/v1675897080/paulie.dev/2023/02/edge-open-graph-image_wkhz1c.jpg
embeddedImages:
  - https://res.cloudinary.com/www-paulie-dev/image/upload/v1675902519/paulie.dev/2023/02/edge-locations-image-1_kruqgr.jpg
---

Hello there! In November 2022 I started a new role at [Cockroach Labs](https://www.cockroachlabs.com/). I'm now what
we're currently calling a Developer Evidence Engineer ‚Äî And I'll now try and explain what that means and a little more
about the app I made for my interview.

If you'd like to skip ahead and see the app, there's a preview link below. Oh and the repo is Open-source.

- üöÄ [Live Preview](https://cockroachdb-edge-locations.vercel.app/)
- ‚öôÔ∏è [Repo](https://github.com/PaulieScanlon/cockroachdb-edge-locations)

## A Bit Of Background

Rewinding the clock slightly to 2005 when I was a Flash Developer and worked in Advertising, and back then we didn't
have teams to build websites, you just kind of did everything yourself. And this has stuck with me throughout my career.
Jobs that have made me unhappy were the jobs that required me to **only** write code.

## I Like Writing Code

And I do, but I also like doing other things. I like Design, I like Illustration, Branding, Animation, Motion Graphics,
Art Direction and Copy Writing, and Content Creation (which normally requires I use all of the above).

In more recent years however I've been eager to dust off my Advertising skills. I did a little bit of this when I was at
[Gatsby](https://www.gatsbyjs.com/), but working to a release cycle of every two weeks (because that's how often the
minor framework updates were published), I rarely had more than a few weeks to put something together. That wasn't the
reason I left though. I left because I'm looking to make a permanent move to the USA, and Gatsby as a fully remote
company probably wouldn't have been able to offer this. That said, they've just been aquired by Netlify so ü§∑‚Äç‚ôÇÔ∏è. Although,
I'd imagine providing US visa sponsorship to existing employees wouldn't have been at the top of anyone's to do list and
could have delayed my plans to move. And who know's if I'd have made the cut and kept my job through the aquisition!

Anyway, best of luck to the team, you're all the best! üíú

## The Role at Cockroach Labs

When I first discussed the role at Cockroach Labs it became clear the timelines for launches were much, much longer.
This, in part is due to the date based release schedule of [CockroachDB](https://github.com/cockroachdb/cockroach),
about 4 times a year, not ~24 times a year like Gatsby!

This sounded like the breathing space I'd been looking for. Not that I want to slow my pace down but because I want to
ramp my production value up! I don't wanna make shitty looking demo apps that look like they've been made by an
Engineer, or create low-fi Tik-Tok style video content with the crazy-face YouTube thumbnails (ü§Æ). I can't do it, I
have a background in Advertising, delivery is everything!

## What is Developer Evidence?

It's a hybrid role, and probably a temporary title until I prove my worth üò∞. I'm part of the Product Marketing
Management (PMM) Team and am tasked with developing new "go to market" deliverables. To do this I'll need to call on my
whole skill set, this could be content creation, it could be demo apps, it might be motion graphics ‚Äî who knows! The
first two projects I'm working on don't even use the CockroachDB database, but promote the buiness benefits of
CockroachDB's distributed capabilities... how do you write code to demo that?

In and around the launches I'll be creating what I hope will be creative and imaginative thought provoking projects.
I'll no longer be focussed on the "how" a developer could do something, but "why" a business should do something.

I will no doubt still make demo applications, I don't wanna stray too far from what I love to do.

## My Interview Demo Application

Part of the interview process required I create a demo app, and the instructions were to spend no more than 3 hours on
it. I ignored this because you can't produce a polished looking demo in 3 hours üòä.

<GatsbyImage image={props.embedded.image1} alt="Edge Locations App" />

I spent around 2 days (the weekend) designing and building this demo app which I called
[Edge](https://cockroachdb-edge-locations.vercel.app/). To be fair, I had most of the 3D Globe already, I've used it on
my [/dashboard](/dashboard), and a few other projects.

The tech stack for this app is as follows.

- [Next.js](https://nextjs.org/)
- [Tailwind](https://tailwindcss.com/)
- [React Three Fiber](https://github.com/pmndrs/react-three-fiber)
- [Tanstack / React Query](https://tanstack.com/query/latest)
- [NextAuth](https://next-auth.js.org/)
- [Prisma](https://www.prisma.io/)

and of course,

- [CockroachDB](https://github.com/cockroachdb/cockroach)

or more specifically [Cockroach Cloud](https://cockroachlabs.cloud/signup) because I'm using CockroachDB Serverless and
the app is deployed using [Vercel](https://vercel.com/).

There's a few more dependancies which you can see in the
[package.json](https://github.com/PaulieScanlon/cockroachdb-edge-locations/blob/main/package.json#L31).

### Lab Data

This is actually a problem that plagued me throughout my time at Gatsby. Whenever I needed to create a CMS Demo I'd have
to spend time populating the CMS with dummy posts and images and spend time finding content so I could demonstrate how
to query it and turn it into a page. This is still somewhat of a problem for creating demos using a Database, E.g. I
need some data in order to query it.

So for [Edge](https://cockroachdb-edge-locations.vercel.app/) I've made something that technically falls under the
category of "user generated content". But instead of you creating content for my demo, all you have to do is click the
"submt" button and the code does the rest. I presented the app at each stage of my interview process and asked my
interviewers to submit their location while we were talking. ‚Äî I got the job, so I'm assuming they all liked what they
saw.

### How Edge Works

Clicking the submit button calls a serverless function, which grabs the `ip` address from the `req` object. It then uses
the `ip` address to find the geographical location, looks this up to get the latitude and longtitude, and then POSTs
them to a CockroachDB database ready to be consumed by the app. The locations retrieved aren't actually your location,
but they are the locations of where the Serverless Function has been deployed. Or to put it another way, they are the
locations of **Vercel's Global Edge Network**.

To give you some idea about how close the Edge really is, when I submit, the function returns a location that is 28
miles up the road from me in a differnet town. So if you wanna **annonomously** submit I/we can start to get a picture
of where in the world these Edges are.

So c'mon, give that "submit" button a click and let's see your [Edge](https://cockroachdb-edge-locations.vercel.app/).
